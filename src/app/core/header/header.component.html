<nav class="navbar navbar-primary navbar-expand-sm nbBg">
  <div class="container-fluid">
    <div class="navbar-header">
      <a routerLink="/" class="navbar-brand"><span><img class="img-responsive"
        style="max-height:42px;max-width:42px;" src="../../../assets/fb_logo.png"/></span></a>
    </div>
    <div class="" id="">
      <ul class="navbar-nav nav">
        <form [formGroup]="searchForm" class="form-inline" (ngSubmit)="searchFor('',-1)">
          <mat-form-field class="searchInput">
            <input type="text" matInput [formControlName]="'searchTerm'" [matAutocomplete]="auto"
              (focus)="loadSearches()" (blur)="unloadAutocomplete()" class="searchInput"/>
          </mat-form-field>
          <mat-autocomplete #auto="matAutocomplete">
            <div *ngIf="type==='searches'">
              <mat-option>
                <p class="searchInitialOption">VOS RECHERCHES <a class="float-right editSearchesLink"
                    routerLinkActive="active" (click)="editCurrentSearches()">
                      MODIFIER</a></p>
              </mat-option>
              <mat-option *ngFor="let search of (coreState$|async).searches;let i=index"
                [value]="search.searchTerm" (click)=searchFor(search.searchTerm,i)>
                {{ search.searchTerm }}
              </mat-option>
            </div>
            <div *ngIf="type==='suggestions'">
              <mat-option *ngFor="let suggestion of (coreState$|async).suggestions;let j=index"
                [value]="suggestion.word" (click)=searchFor(suggestion.word,j)>
                {{ suggestion.word }}
              </mat-option>
            </div>
          </mat-autocomplete>
          <button mat-button type="submit"><i class="material-icons">search</i></button>
        </form>
        <li class="nav-item"><div class="profileDiv mt-2"><a routerLink="/profile" class="nav-link">
          <span class="float-left profilePictSpan"><img *ngIf="(profileState$|async)" class="img-responsive"
            style="height:52px;width:52px;border-radius:50%;" [src]="(profileState$|async)?.profilePicture">
          </span>
          <p class="float-right mt-3 lastNameP">{{(authState$|async)?.lastName}}</p>
        </a></div></li>
        <li class="nav-item"><div class="welcomeDiv mt-2"><a routerLink="/" class="nav-link">
          <p class="mt-2 welcomeP">Accueil</p>
        </a></div></li>
        <li class="nav-item"><div class="createDiv mt-2"><a routerLink="/" class="nav-link">
          <p class="mt-2 createP">Cr√©er</p>
        </a></div></li>
      </ul>
    </div>
    <div class="float-right">
      <ul class="navbar-nav nav mr-3">
        <li routerLinkActive="active" class="nav-item"><a
          class="nav-link">Purchased movies</a></li>
      </ul>
    </div>
  </div>
</nav>
